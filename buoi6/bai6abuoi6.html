<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ĐỔI MÀU</title>
    <style>
      body {
        background-color: #fff;
      }
    </style>
  </head>
  <body>
    <button id="toggle-button">HÃY ẤN VÀO TÔI</button>
    <script>
      const button = document.querySelector("#toggle-button");
      const body = document.querySelector("body");
      const rgbToHex = (r, g, b) => {
        return (
          "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)
        );
      };
      function rgbStringToArray(rgbString) {
        let arr = rgbString
          .replace(/ /g, "")
          .slice(rgbString.indexOf("(") + 1, rgbString.indexOf(")"))
          .split(",");
        for (let i = 0; i < arr.length; i++) {
          if (arr.length - 1 === i && arr.length === 4)
            arr[i] = parseFloat(arr[i]);
          else arr[i] = parseInt(arr[i]);
        }
        return arr;
      }
      button.addEventListener("click", () => {
        const currentColor = window.getComputedStyle(body).backgroundColor;
        const rgbArr = rgbStringToArray(currentColor);
        const hexColor = rgbToHex(rgbArr[0], rgbArr[1], rgbArr[2]);
        console.log(hexColor);
        if (hexColor == "#ffffff") {
          body.style.backgroundColor = "#00bfff";
        } else if (hexColor == "#00bfff") {
          body.style.backgroundColor = "#ffffff";
        }
      });
    </script>
  </body>
</html>